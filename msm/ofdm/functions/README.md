# Доки по кодекам (свёрточным)

## 1. Принцип работы кодера и декодера

### Свёрточное кодирование

Свёрточное кодирование осуществляется с использованием сдвигового регистра длины 
$k = 7$

и двух генераторных многочленов, заданных в восьмеричной системе, например:
$$G_1 = 171_{(8)} \quad \text{и} \quad G_2 = 133_{(8)}$$

При кодировании входной бит поступает в сдвиговый регистр, который представляет собой массив бит длины $k$. На каждом шаге регистр обновляется, а затем на его основе вычисляются два выходных бита по формулам:
\
$y_1 = \left(\sum_{j=1}^{k} G_1(j) \cdot d_j \right) \bmod 2$ \
$y_2 = \left(\sum_{j=1}^{k} G_2(j) \cdot d_j \right) \bmod 2$ \
где $d_{j}$ $-$ биты, находящиеся в сдвиговом регистре, \
$G_{i}(j)$  $-$ биты соответствующего генератора (после преобразования из восьмеричной в двоичную систему).

### Декодирование (алгоритм Витерби)

Декодирование происходит с использованием алгоритма Витерби, который основан на поиске оптимального пути в решётке (треблесе) состояний. Основные моменты:

- **Треблесс состояний:** При свёрточном кодировании с регистром длины $k$ количество состояний равно $2^{k-1}$. Каждое состояние соответствует набору бит из сдвигового регистра (без входного бита).
- **Переходы:** Для каждого состояния имеются два возможных перехода (со значениями входного бита 0 и 1). Для каждого перехода известны ожидаемые выходные дибиты.
- **Метрика:** На каждом шаге для каждого возможного перехода вычисляется метрика (например, расстояние Хэмминга между полученным дибитом и ожидаемым выходом).
- **Обновление путей:** Алгоритм суммирует метрики по путям и на каждом шаге оставляет для каждого состояния только путь с минимальной суммарной метрикой.
- **Обратная трассировка:** После прохождения всех шагов выбирается конечное состояние с наименьшей метрикой, и затем по сохранённым предкам восстанавливается последовательность состояний, позволяющая декодировать исходные биты.